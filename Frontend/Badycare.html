<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geen Basket</title>
    <link rel="icon" href="./Images/Green Basket.png" sizes="16x16">
    <link rel="stylesheet" href="./CSS/common.css">
    <link rel="stylesheet" href="./CSS/category.css">
    <link rel="stylesheet" href="./CSS/extra.css">
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />
    <style>
        #categories{
        height: auto;
        width: 420px;
        border-right: 1px solid rgb(177, 170, 170);
    
    }
    </style>
<body onload="loadkar()">
    <div id="globalnavbars">
    </div>

    <div id="obstrct">
        <img id="categoryimages" src="./Images/Baby.webp">
    </div>
    <div id="main">
            <div id="categories" > 
                <h3 id="green" class="under">Categories</h3>
                <div><a href="vegetables.html">Vegetables</a></div>
                <div><a href="Fruits.html">Fruits</a></div>
                <div><a href="foodgrain_oil.html">Foodgrains, Oil & Masala</a></div>
                <div><a href="Beverage.html">Beverages</a></div>
                <div><a href="Snack.html">Snacks & Branded Foods</a></div>
                <div><a href="Beauty.html">Beauty & Hygiene</a></div>
                <div><a href="Household.html">Cleaning & Household</a></div>
                <div><a href="Kitchen.html">Kitchen, Garden & Pets</a></div>
                <div><a href="Egg.html">Eggs, Meat & Fish</a></div>
                <div><a href="Badycare.html">Baby Care</a></div>
                <div><a href="index.html">View All</a></div>
       
        </div>
        <div id="second">
            <h2 id="heading2">
                Baby Care</h2>
            <div id="underline" > <i class="fa-solid fa-truck"></i><p  > ALL PRODUCTS</p></div>
            <hr style="margin-top: -10px;">
            <div id="renderdata">

            </div>
        </div>
    </div>
    
   
    <p id="heading2" style="text-align: center;">Brand Store</p>
    <div id="brandstore">
        <div><img
                src="https://www.bigbasket.com/media/customPage/77880b23-0233-4fad-b54a-a93c998e0d20/7b298a48-7c3d-4120-a032-4d45c2a89673/14d11349-1c62-4803-be77-15a874fe6a4b/hp_brandStorefront_m_480_251222_01.jpg">
        </div>
        <div><img
                src="https://www.bigbasket.com/media/customPage/77880b23-0233-4fad-b54a-a93c998e0d20/7b298a48-7c3d-4120-a032-4d45c2a89673/14d11349-1c62-4803-be77-15a874fe6a4b/hp_brandStorefront_m_480_251222_02.jpg">
        </div>
        <div><img
                src="https://www.bigbasket.com/media/customPage/77880b23-0233-4fad-b54a-a93c998e0d20/7b298a48-7c3d-4120-a032-4d45c2a89673/14d11349-1c62-4803-be77-15a874fe6a4b/hp_brandStorefront_m_480_251222_03.jpg">
        </div>
        <div><img
                src="https://www.bigbasket.com/media/customPage/77880b23-0233-4fad-b54a-a93c998e0d20/7b298a48-7c3d-4120-a032-4d45c2a89673/14d11349-1c62-4803-be77-15a874fe6a4b/hp_brandStorefront_m_480_251222_04.jpg">
        </div>
        <div><img
                src="https://www.bigbasket.com/media/customPage/77880b23-0233-4fad-b54a-a93c998e0d20/7b298a48-7c3d-4120-a032-4d45c2a89673/14d11349-1c62-4803-be77-15a874fe6a4b/hp_brandStorefront_m_480_251222_05.jpg">
        </div>
        <div><img
                src="https://www.bigbasket.com/media/customPage/77880b23-0233-4fad-b54a-a93c998e0d20/7b298a48-7c3d-4120-a032-4d45c2a89673/14d11349-1c62-4803-be77-15a874fe6a4b/hp_brandStorefront_m_480_251222_06.jpg">
        </div>
    </div>
    <div id="globalfooter">
    </div>

</body>

</html>
<script src="./JS/common.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script >
    if (localStorage.getItem("username") !== undefined && localStorage.getItem("username") !== null) {
    document.querySelector("#username").innerHTML = `<a href="login.html"><ion-icon name="person-outline"></ion-icon> ${localStorage.getItem("username")}</a>`
}
// ***********RENDERDATA*********

render()
let temp=[]
async function render() {
   await fetch("https://drab-ruby-gecko-suit.cyclic.app/products/Babycares").
    then((res) => {
        return res.json()
    }).then((data) => {
        temp=data
      alldata(data)
    })
};
function alldata(data){
    // console.log(data)
    let D=data.map((item)=>{
        return `<div><img src="${item.Image}">
        <h4>${item.Name}</h4>
        <p class="category">${item.Category}</p>
        <div class="render1"> <p id="markprice">MRP <spam class="mrp" >Rs. ${String(Math.floor(Number(item.Price)*1.3))}</spam></p>
        <p class="price">Rs. ${item.Price}</p>
        </div>
        <div class="render2"> <i class="fa-solid fa-truck"><spam id="delivery">Standard Delivery in 48 hrs</spam></i> 
        <button _data1="${item.Name}" _data2="${item.Category}" _data3="${item.Price}" _data4="${item.Image}" onclick="addtocart(event)">Add <i class="fa-sharp fa-solid fa-cart-plus"></i></button></div>
        </div>
       `
    });
    document.querySelector("#renderdata").innerHTML=D.join(" ");
}
// *****************Common************
count();
    async function count() {
        await fetch("https://drab-ruby-gecko-suit.cyclic.app/cart").
            then((res) => {
                return res.json();
            }).then((data) => {
                let count = data.filter((item) => {
                    return item.UserID == localStorage.getItem("userid")
                });
                // console.log(count)
                if (localStorage.getItem("username") == "undefined" || localStorage.getItem("username") == null) {
                    document.querySelector("#count").innerHTML = 0
                } else {
                    document.querySelector("#count").innerHTML = count.length
                }
            }).catch((err) => {
                console.log(err)
            })
    }
    if (localStorage.getItem("username") === "undefined") {
        console.log("intari", localStorage.getItem("username"))
        document.querySelector("#username").innerHTML = `<a href="login.html"><ion-icon name="person-outline"></ion-icon> login/signup</a>`
    } else {
        console.log("in", localStorage.getItem("username"))
        document.querySelector("#username").innerHTML = `<a href="login.html"><ion-icon name="person-outline"></ion-icon> ${localStorage.getItem("username")}</a>`

    };

    let input = document.querySelector("#nav2>div>input");
    let obstrction=document.querySelector("#categoryimages")
    input.addEventListener("input", () => {
   obstrction.style.display="none"
        let pass = temp.filter((item) => {
            return item.Name.toLowerCase().includes(input.value.toLowerCase())
        });

        // console.log(input.value)
     if (pass.length == 0) {
            alldata(pass)
            document.querySelector("#renderdata").innerHTML = "Nothing Found"

        } else if (input.value == "") {
            alldata(pass);
            obstrction.style.display=""
        } else {
            alldata(pass)
        }
    });

// **********************common**************
</script>